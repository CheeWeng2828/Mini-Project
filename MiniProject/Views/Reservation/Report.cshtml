@model IEnumerable<ReportVM>
@using System.Text.Json
@{
    ViewBag.Title = "Report";
    // Distinct is avoid to fetch the duplicate Data
    var roomTypeName = Model.Select(s => s.RoomType).ToList();
    var salesForType = Model.Select(s => s.TotalSales).ToList();

    var maxValue = salesForType.Max();
    var maxIndex = salesForType.IndexOf(maxValue);

    var minValue = salesForType.Min();
    var minIndex = salesForType.IndexOf(minValue);

    var totalSales = salesForType.Sum();
}


<section><button class="back-btn" data-get="Index">Back</button></section>



<h2>Chart :</h2>
<div style="width:100%;max-width:600px">
    <canvas id="myChart"></canvas>
</div>

<!-- Chart.js import -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>

<script>

    // Convert into JavaScript Array
    var xValues = @Html.Raw(JsonSerializer.Serialize(roomTypeName));
    var yValues = @Html.Raw(JsonSerializer.Serialize(salesForType));

    var ctx = document.getElementById("myChart").getContext("2d");
    new Chart(ctx,{
        type: "bar",
        data:{
            labels : xValues,
            datasets:[{
                backgroundColor : "blue",
                data: yValues
            }]
        },
        options:{
            legend:{display:false},
            title:{
                display:true,
                text:"Sales For Each Type"
            },
        scales: {
            yAxes: [{
                 ticks: { beginAtZero: true }
            }]
        }
        }
    });
</script>